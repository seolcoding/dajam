# Dajam App Index
# 이 파일은 코드베이스 인덱싱을 위한 앱-코드-테스트 매핑 정보입니다.
# AI 에이전트와 개발자 모두가 빠르게 코드를 찾을 수 있도록 설계되었습니다.

version: "2.0"
project: dajam
description: "18개 한국어 미니 웹앱 모노레포 (22개 → 18개 통합 예정)"
base_url: "https://dajam.seolcoding.com"

# ============================================================================
# 앱 통합 계획 (docs/APP_CONSOLIDATION_PLAN.md 참조)
# ============================================================================
consolidation:
  deprecated:
    - this-or-that    # → balance-game으로 통합
    - chosung-quiz    # → realtime-quiz로 통합
    - lunch-roulette  # → random-picker로 통합
    - ladder-game     # → random-picker로 통합

# ============================================================================
# 세션 모드 분류
# ============================================================================
session_modes:
  single_only:
    description: "싱글 플레이 전용"
    apps: [salary-calculator, rent-calculator, gpa-calculator, dutch-pay, id-validator]

  single_and_session:
    description: "싱글 + 세션 모드"
    apps: [balance-game, ideal-worldcup, personality-test, student-network]

  session_host_driven:
    description: "세션 전용 - 호스트 주도"
    apps: [random-picker, team-divider, live-voting, word-cloud]

  session_realtime:
    description: "세션 전용 - 실시간 게임"
    apps: [bingo-game, realtime-quiz, human-bingo]

  master_platform:
    description: "마스터 플랫폼"
    apps: [group-order, audience-engage]

# ============================================================================
# TIER 분류 (핵심 가치 기준) - 레거시 호환
# ============================================================================
tiers:
  core:
    description: "실시간 멀티유저 필수 기능"
    apps: [live-voting, group-order, bingo-game, audience-engage]

  high:
    description: "의견 통합 + 공유 기능"
    apps: [balance-game, ideal-worldcup, student-network]

  medium:
    description: "같이하기 (오프라인 중심)"
    apps: [team-divider, realtime-quiz, human-bingo]

  utility:
    description: "개인 도구"
    apps: [salary-calculator, rent-calculator, gpa-calculator, dutch-pay, random-picker, id-validator]

# ============================================================================
# 앱별 상세 매핑
# ============================================================================
apps:
  # --------------------------------------------------------------------------
  # CORE TIER - 실시간 멀티유저
  # --------------------------------------------------------------------------
  live-voting:
    route: /live-voting
    category: realtime
    description: "실시간 투표/설문 (의사결정용)"
    session_mode: session_host_driven
    code:
      main: src/app/live-voting/page.tsx
      components: src/app/live-voting/components/
      store: src/app/live-voting/store/
      hooks: src/app/live-voting/hooks/
    tests:
      page_object: e2e/pages/utility/live-voting.page.ts
      scenarios: e2e/scenarios/utility/live-voting.spec.ts
    features:
      - 투표 생성/시작/종료
      - QR 코드 공유
      - 익명 투표 옵션
      - 투표 취소 기능
      - 통합 리포트
    keywords: [voting, poll, realtime, QR, decision]

  audience-engage:
    route: /audience-engage
    category: realtime
    description: "통합 인터랙션 플랫폼 (마스터)"
    session_mode: master_platform
    code:
      main: src/app/audience-engage/page.tsx
      components: src/app/audience-engage/components/
      store: src/app/audience-engage/store/
      types: src/app/audience-engage/types/
    tests:
      scenarios: e2e/scenarios/multiuser/presentation-e2e.spec.ts
    features:
      - 슬라이드 동기화
      - 화면 강제 리다이렉트
      - 실시간 퀴즈/투표/워드클라우드
      - 모든 인터랙션 통합 컨트롤
    keywords: [presentation, slides, realtime, host, participant, master]

  bingo-game:
    route: /bingo-game
    category: game
    description: "빙고 게임 (호스트 호출)"
    session_mode: session_realtime
    code:
      main: src/app/bingo-game/page.tsx
      components: src/app/bingo-game/components/
      stores: src/app/bingo-game/stores/
    tests:
      page_object: e2e/pages/game/bingo.page.ts
      scenarios: e2e/scenarios/game/bingo-game.spec.ts
    features:
      - 빙고 보드 생성 (9가지 테마)
      - 호스트 호출 → 참여자 자동 체크
      - Supabase 실시간 동기화
    keywords: [bingo, game, multiplayer, realtime]

  group-order:
    route: /group-order
    category: utility
    description: "단체 주문"
    session_mode: master_platform
    code:
      main: src/app/group-order/page.tsx
      components: src/app/group-order/components/
    features:
      - 메뉴 공유
      - 주문 집계
      - 가격 계산
    keywords: [order, food, group, share]

  # --------------------------------------------------------------------------
  # HIGH TIER - 의견 통합
  # --------------------------------------------------------------------------
  balance-game:
    route: /balance-game
    category: game
    description: "밸런스 게임 (+ This or That 통합)"
    session_mode: single_and_session
    code:
      main: src/app/balance-game/page.tsx
      components: src/app/balance-game/components/
      utils: src/app/balance-game/utils/
    tests:
      page_object: e2e/pages/game/balance-game.page.ts
      scenarios: e2e/scenarios/game/balance-game.spec.ts
    features:
      - A vs B 선택 (클래식 모드)
      - This or That 모드 (빠른 양자택일)
      - 결과 통계
      - 호스트 질문 컨트롤 (세션)
      - 결과 실시간 공유 (세션)
    keywords: [balance, choice, versus, poll, this-or-that]
    integrates: [this-or-that]

  ideal-worldcup:
    route: /ideal-worldcup
    category: game
    description: "이상형 월드컵"
    session_mode: single_and_session
    code:
      main: src/app/ideal-worldcup/page.tsx
      components: src/app/ideal-worldcup/components/
      store: src/app/ideal-worldcup/store/
    tests:
      page_object: e2e/pages/game/ideal-worldcup.page.ts
      scenarios: e2e/scenarios/game/ideal-worldcup.spec.ts
    features:
      - 토너먼트 형식
      - 이미지/텍스트 항목
      - 결과 공유
      - 세션 참여자 점수 집계 (토너먼트 진출 점수)
    keywords: [worldcup, tournament, pick, favorite]

  student-network:
    route: /student-network
    category: social
    description: "학생 네트워크 (명함 교환)"
    session_mode: single_and_session
    code:
      main: src/app/student-network/page.tsx
      components: src/app/student-network/components/
      store: src/app/student-network/store/
    tests:
      page_object: e2e/pages/social/student-network.page.ts
      scenarios: e2e/scenarios/social/student-network.spec.ts
    features:
      - 프로필 생성
      - QR 명함
      - 연락처 교환
      - 지속적 네트워킹 (동의 기반 연락처 공유)
    keywords: [network, profile, contact, QR, business-card, networking]

  # --------------------------------------------------------------------------
  # MEDIUM TIER - 오프라인 같이하기
  # --------------------------------------------------------------------------
  ladder-game:
    route: /ladder-game
    category: game
    description: "사다리 게임"
    status: deprecated  # → random-picker로 통합 예정
    merged_into: random-picker
    code:
      main: src/app/ladder-game/page.tsx
      client: src/app/ladder-game/LadderGameApp.tsx
      components: src/app/ladder-game/components/
    tests:
      page_object: e2e/pages/game/ladder.page.ts
      scenarios: e2e/scenarios/game/ladder-game.spec.ts
    features:
      - 사다리 생성
      - 결과 애니메이션
      - 커스텀 항목
    keywords: [ladder, random, pick, animation]

  team-divider:
    route: /team-divider
    category: utility
    description: "팀 나누기"
    session_mode: session_host_driven
    code:
      main: src/app/team-divider/page.tsx
      components: src/app/team-divider/components/
      store: src/app/team-divider/store/
    tests:
      page_object: e2e/pages/utility/team-divider.page.ts
      scenarios: e2e/scenarios/utility/team-divider.spec.ts
    features:
      - 랜덤 팀 분배
      - 팀 수 조절
      - 결과 공유
      - 자동 등록 (세션)
      - LLM 스마트 배분 (예정)
    keywords: [team, divide, random, group, session]

  chosung-quiz:
    route: /chosung-quiz
    category: game
    description: "초성 퀴즈"
    status: deprecated  # → realtime-quiz로 통합 예정
    merged_into: realtime-quiz
    code:
      main: src/app/chosung-quiz/page.tsx
      client: src/app/chosung-quiz/ChosungQuizClient.tsx
      components: src/app/chosung-quiz/components/
      pages: src/app/chosung-quiz/pages/
      store: src/app/chosung-quiz/store/
    tests:
      page_object: e2e/pages/game/chosung-quiz.page.ts
      scenarios: e2e/scenarios/game/chosung-quiz.spec.ts
    features:
      - 초성 힌트
      - 타이머
      - 점수 시스템
    keywords: [quiz, korean, chosung, consonant, game]

  # --------------------------------------------------------------------------
  # UTILITY TIER - 개인 도구
  # --------------------------------------------------------------------------
  salary-calculator:
    route: /salary-calculator
    category: calculator
    description: "연봉 계산기"
    session_mode: single_only
    code:
      main: src/app/salary-calculator/page.tsx
      client: src/app/salary-calculator/SalaryCalculatorApp.tsx
      components: src/app/salary-calculator/components/
    tests:
      page_object: e2e/pages/calculator/salary.page.ts
      scenarios: e2e/scenarios/calculator/salary-calculator.spec.ts
      accessibility: e2e/smart/accessibility.spec.ts
    features:
      - 세전/세후 계산
      - 4대보험 공제
      - 실수령액 시뮬레이션
    keywords: [salary, tax, income, calculator, 연봉, 실수령액]

  rent-calculator:
    route: /rent-calculator
    category: calculator
    description: "전월세 계산기"
    session_mode: single_only
    code:
      main: src/app/rent-calculator/page.tsx
      client: src/app/rent-calculator/RentCalculatorClient.tsx
      components: src/app/rent-calculator/components/
      store: src/app/rent-calculator/store/
    tests:
      page_object: e2e/pages/calculator/rent.page.ts
      scenarios: e2e/scenarios/calculator/rent-calculator.spec.ts
      accessibility: e2e/smart/accessibility.spec.ts
    features:
      - 전세→월세 전환
      - 월세→전세 전환
      - 전환율 계산
    keywords: [rent, jeonse, wolse, calculator, 전세, 월세]

  gpa-calculator:
    route: /gpa-calculator
    category: calculator
    description: "학점 계산기"
    session_mode: single_only
    code:
      main: src/app/gpa-calculator/page.tsx
      components: src/app/gpa-calculator/components/
    tests:
      page_object: e2e/pages/calculator/gpa.page.ts
      scenarios: e2e/scenarios/calculator/gpa-calculator.spec.ts
    features:
      - 학점 입력
      - GPA 계산
      - 목표 학점 시뮬레이션
    keywords: [gpa, grade, calculator, university, 학점]

  dutch-pay:
    route: /dutch-pay
    category: calculator
    description: "더치페이 계산기"
    session_mode: single_only
    code:
      main: src/app/dutch-pay/page.tsx
      client: src/app/dutch-pay/DutchPayApp.tsx
      components: src/app/dutch-pay/components/
      store: src/app/dutch-pay/store/
      lib: src/app/dutch-pay/lib/
    tests:
      page_object: e2e/pages/calculator/dutch-pay.page.ts
      scenarios: e2e/scenarios/calculator/dutch-pay.spec.ts
      accessibility: e2e/smart/accessibility.spec.ts
    features:
      - 지출 항목 관리
      - 참여자별 정산
      - 송금 안내
    keywords: [dutch, split, pay, settlement, 정산, 더치페이]

  random-picker:
    route: /random-picker
    category: utility
    description: "랜덤 뽑기 (+ 점심/사다리 통합)"
    session_mode: session_host_driven
    code:
      main: src/app/random-picker/page.tsx
      client: src/app/random-picker/RandomPickerClient.tsx
      components: src/app/random-picker/components/
      store: src/app/random-picker/store/
    tests:
      page_object: e2e/pages/utility/random-picker.page.ts
      scenarios: e2e/scenarios/utility/random-picker.spec.ts
    features:
      - 일반 모드 (범용 랜덤 선택)
      - 점심 모드 (맛집 + 위치 + 링크 추천)
      - 사다리 모드 (1:1 매칭 시각화)
      - 다양한 애니메이션 (복권, 물리엔진, 3D, 핀볼, 깔대기)
      - 마우스 클릭/드래그 섞기 인터랙션
      - 경품 추첨 시 참여자 자동 등록
    keywords: [random, picker, wheel, roulette, 랜덤, 뽑기, lunch, ladder]
    integrates: [lunch-roulette, ladder-game]

  lunch-roulette:
    route: /lunch-roulette
    category: utility
    description: "점심 메뉴 룰렛"
    status: deprecated  # → random-picker로 통합 예정
    merged_into: random-picker
    code:
      main: src/app/lunch-roulette/page.tsx
      components: src/app/lunch-roulette/components/
      store: src/app/lunch-roulette/store/
    tests:
      page_object: e2e/pages/utility/lunch-roulette.page.ts
      scenarios: e2e/scenarios/utility/lunch-roulette.spec.ts
    features:
      - 주변 맛집 검색 (Kakao Maps)
      - 랜덤 선택
      - 카테고리 필터
    keywords: [lunch, food, restaurant, map, 점심, 맛집]

  id-validator:
    route: /id-validator
    category: utility
    description: "주민등록번호 검증기"
    session_mode: single_only
    code:
      main: src/app/id-validator/page.tsx
      client: src/app/id-validator/IdValidatorClient.tsx
      components: src/app/id-validator/components/
    tests:
      page_object: e2e/pages/calculator/id-validator.page.ts
      scenarios: e2e/scenarios/calculator/id-validator.spec.ts
    features:
      - 주민번호 형식 검증
      - 테스트 번호 생성
      - 생년월일 추출
    keywords: [id, rrn, validator, 주민등록번호, 검증]

  # --------------------------------------------------------------------------
  # 추가 앱 (이전 버전에서 누락)
  # --------------------------------------------------------------------------
  word-cloud:
    route: /word-cloud
    category: realtime
    description: "워드 클라우드"
    session_mode: session_host_driven
    code:
      main: src/app/word-cloud/page.tsx
      components: src/app/word-cloud/components/
    features:
      - 실시간 단어 수집
      - 시각화 (크기/색상)
      - 오타 수정 (예정)
      - 유사어 묶기 (예정)
    keywords: [word, cloud, realtime, visualization]

  human-bingo:
    route: /human-bingo
    category: game
    description: "휴먼 빙고 (아이스브레이킹)"
    session_mode: session_realtime
    code:
      main: src/app/human-bingo/page.tsx
      components: src/app/human-bingo/components/
      data: src/app/human-bingo/data/
    features:
      - 특성 기반 빙고판
      - 참여자 탐색 + 이름 입력
      - 7개 카테고리 50+ 템플릿
    keywords: [bingo, human, icebreaker, networking]

  personality-test:
    route: /personality-test
    category: game
    description: "성격 테스트"
    session_mode: single_and_session
    code:
      main: src/app/personality-test/page.tsx
      components: src/app/personality-test/components/
    features:
      - MBTI 스타일 테스트
      - 팀 분포 통계 (세션)
      - I/E 비율 등 시각화
    keywords: [personality, MBTI, test, psychology]

  realtime-quiz:
    route: /realtime-quiz
    category: game
    description: "실시간 퀴즈 (+ 초성 퀴즈 통합)"
    session_mode: session_realtime
    code:
      main: src/app/realtime-quiz/page.tsx
      components: src/app/realtime-quiz/components/
    features:
      - 일반 퀴즈 (객관식/주관식)
      - 초성 퀴즈 모드
      - 이해도 테스트 모드
      - AI 퀴즈 생성 (예정)
    keywords: [quiz, realtime, kahoot, chosung, trivia]
    integrates: [chosung-quiz]

  this-or-that:
    route: /this-or-that
    category: game
    description: "This or That (양자택일)"
    status: deprecated  # → balance-game으로 통합 예정
    merged_into: balance-game
    code:
      main: src/app/this-or-that/page.tsx
      components: src/app/this-or-that/components/
    features:
      - 빠른 양자택일
      - 실시간 통계
    keywords: [this, that, choice, versus]

# ============================================================================
# 테스트 매핑
# ============================================================================
test_structure:
  page_objects:
    base: e2e/pages/base.page.ts
    categories:
      calculator: [salary, dutch-pay, id-validator, gpa, rent]
      game: [balance-game, bingo, ladder, chosung-quiz, ideal-worldcup]
      utility: [live-voting, random-picker, team-divider, lunch-roulette]
      social: [student-network]
      auth: [login]
      multiuser: [audience-engage]

  scenarios:
    auth: e2e/scenarios/auth/
    calculator: e2e/scenarios/calculator/
    game: e2e/scenarios/game/
    utility: e2e/scenarios/utility/
    social: e2e/scenarios/social/
    edge-cases: e2e/scenarios/edge-cases/
    multiuser: e2e/scenarios/multiuser/

  smart:
    accessibility: e2e/smart/accessibility.spec.ts
    responsive: e2e/smart/responsive.spec.ts
    performance: e2e/smart/performance.spec.ts

# ============================================================================
# 공유 컴포넌트
# ============================================================================
shared:
  ui:
    path: src/components/ui/
    description: "shadcn/ui 기반 공통 컴포넌트"
    components:
      - button, card, dialog, input, label
      - tabs, progress, slider, switch
      - checkbox, radio-group, select
      - dropdown-menu, popover, tooltip, toast
      - avatar, accordion, separator, alert-dialog

  dashboard:
    path: src/components/dashboard/
    description: "대시보드 레이아웃 컴포넌트"

  share:
    path: src/components/share/
    description: "공유 버튼 등"

  realtime:
    path: src/lib/realtime/
    description: "Supabase 실시간 훅"
    hooks:
      - useRealtimeSession
      - useSessionElements
      - useElementResponses

# ============================================================================
# 검색 가이드
# ============================================================================
search_guide:
  by_session_mode:
    "싱글 전용": [salary-calculator, rent-calculator, gpa-calculator, dutch-pay, id-validator]
    "싱글 + 세션": [balance-game, ideal-worldcup, personality-test, student-network]
    "호스트 주도": [random-picker, team-divider, live-voting, word-cloud]
    "실시간 게임": [bingo-game, realtime-quiz, human-bingo]
    "마스터 플랫폼": [group-order, audience-engage]

  by_feature:
    "실시간 동기화": [live-voting, audience-engage, bingo-game, word-cloud, realtime-quiz]
    "계산기": [salary-calculator, rent-calculator, gpa-calculator, dutch-pay]
    "랜덤 선택": [random-picker, team-divider]  # ladder-game, lunch-roulette 통합됨
    "게임": [balance-game, bingo-game, ideal-worldcup, personality-test, realtime-quiz, human-bingo]
    "QR 코드": [live-voting, student-network, audience-engage]
    "아이스브레이킹": [human-bingo, personality-test, word-cloud]

  by_tech:
    "Zustand 상태관리": [dutch-pay, ideal-worldcup, live-voting, random-picker, rent-calculator, student-network, team-divider, audience-engage]
    "Canvas 애니메이션": [random-picker]  # ladder-game 통합됨
    "Kakao Maps API": [random-picker]  # lunch-roulette 통합됨
    "Supabase Realtime": [live-voting, audience-engage, bingo-game, word-cloud, realtime-quiz]

  deprecated_apps:
    - this-or-that    # → balance-game
    - chosung-quiz    # → realtime-quiz
    - lunch-roulette  # → random-picker
    - ladder-game     # → random-picker
