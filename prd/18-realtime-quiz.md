# Realtime Quiz - ì‹¤ì‹œê°„ í€´ì¦ˆ ì‡¼

> âœ… **í†µí•© ì•±**: ë‹¤ìŒ ì•±ì´ ì´ ì•±ìœ¼ë¡œ í†µí•©ë©ë‹ˆë‹¤.
> - `chosung-quiz` â†’ ì´ˆì„± í€´ì¦ˆ ëª¨ë“œ (í•œê¸€ ì´ˆì„± ë§ì¶”ê¸°)
> - ì´í•´ë„ í…ŒìŠ¤íŠ¸ ëª¨ë“œ (ê°•ì—° í›„ í•™ìŠµ í™•ì¸) ì¶”ê°€ ì˜ˆì •
> - AI í€´ì¦ˆ ìƒì„± ê¸°ëŠ¥ ì¶”ê°€ ì˜ˆì •
> - í†µí•© ê³„íš: `docs/APP_CONSOLIDATION_PLAN.md` ì°¸ì¡°

## 1. ê°œìš”

### 1.1 ì•± ì„¤ëª…
Realtime QuizëŠ” Kahoot ìŠ¤íƒ€ì¼ì˜ ì‹¤ì‹œê°„ ë©€í‹°í”Œë ˆì´ì–´ í€´ì¦ˆ ê²Œì„ì…ë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ê°€ í€´ì¦ˆë¥¼ ì§„í–‰í•˜ê³ , ì°¸ê°€ìë“¤ì´ ëª¨ë°”ì¼ë¡œ ì‹¤ì‹œê°„ ì°¸ì—¬í•˜ë©°, ì†ë„ì™€ ì •í™•ë„ì— ë”°ë¥¸ ì ìˆ˜ë¡œ ë¦¬ë”ë³´ë“œê°€ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

### 1.2 íƒ€ê²Ÿ ì‚¬ìš©ì
- **êµìœ¡ì**: ìˆ˜ì—… ë³µìŠµ, ì´í•´ë„ ì²´í¬
- **ê¸°ì—… êµìœ¡ ë‹´ë‹¹ì**: êµìœ¡ í›„ í‰ê°€, ì˜¨ë³´ë”© í€´ì¦ˆ
- **ì´ë²¤íŠ¸ ì§„í–‰ì**: í–‰ì‚¬ í€´ì¦ˆì‡¼, ê²½í’ˆ ì¶”ì²¨
- **ì¹œêµ¬/ê°€ì¡±**: íŒŒí‹° ê²Œì„, ì§€ì‹ ëŒ€ê²°

### 1.3 í•µì‹¬ ê°€ì¹˜
- **ì¦‰ì‹œ ì‹œì‘**: íšŒì›ê°€ì… ì—†ì´ 6ìë¦¬ ì½”ë“œë¡œ ì°¸ì—¬
- **ì‹¤ì‹œê°„ ê²½ìŸ**: ë¦¬ë”ë³´ë“œê°€ ë¬¸ì œë§ˆë‹¤ ì—…ë°ì´íŠ¸
- **ê²Œì„í™”**: ì†ë„ ë³´ë„ˆìŠ¤, ì—°ì† ì •ë‹µ ë³´ë„ˆìŠ¤, íŒŒì›Œì—…
- **ë¶„ì„**: ë¬¸ì œë³„ ì •ë‹µë¥ , ê°œì¸ë³„ ì„±ì  ë¦¬í¬íŠ¸

### 1.4 ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
1. **ìˆ˜ì—… ë§ˆë¬´ë¦¬ (5ë¶„)**: ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© 5ë¬¸ì œ â†’ 1ë“±ì—ê²Œ ì‘ì€ ë³´ìƒ
2. **íŒ€ë¹Œë”© í€´ì¦ˆ**: íšŒì‚¬/íŒ€ ê´€ë ¨ í€´ì¦ˆ â†’ íŒ€ ê²°ì†ë ¥ ê°•í™”
3. **íŒŒí‹° ê²Œì„**: ì¼ë°˜ ìƒì‹ í€´ì¦ˆ â†’ ì¹œëª© ë„ëª¨

### 1.5 ì°¸ì—¬ ëª¨ë“œ ì›ì¹™
> **í˜¸ìŠ¤íŠ¸ = PC/í”„ë¡œì í„°(í° í™”ë©´), ì°¸ê°€ì = ëª¨ë°”ì¼**

| ì—­í•  | ë””ë°”ì´ìŠ¤ | í™”ë©´ êµ¬ì„± |
|------|----------|-----------|
| **í˜¸ìŠ¤íŠ¸** | PC/í”„ë¡œì í„° | ì§ˆë¬¸+ì„ íƒì§€ í‘œì‹œ, ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸, ë¦¬ë”ë³´ë“œ, ì§„í–‰ ì»¨íŠ¸ë¡¤ |
| **ì°¸ê°€ì** | ëª¨ë°”ì¼ (í•„ìˆ˜) | 6ìë¦¬ ì½”ë“œ ì…ë ¥ â†’ 4ê°œ ì„ íƒì§€ ë²„íŠ¼ â†’ ì •ë‹µ/ì˜¤ë‹µ í”¼ë“œë°± |

- ì°¸ê°€ì í™”ë©´ì€ **ëª¨ë°”ì¼ ì„¸ë¡œ ëª¨ë“œì— ìµœì í™”**
- ì„ íƒì§€ ë²„íŠ¼ 4ê°œëŠ” **2x2 ê·¸ë¦¬ë“œ**ë¡œ ë°°ì¹˜ (í•œ ì† ì¡°ì‘)
- í„°ì¹˜ ì˜ì—­ **ìµœì†Œ 64px** (ë¹ ë¥¸ íƒ­ í•„ìš”)
- ì§ˆë¬¸ì€ í˜¸ìŠ¤íŠ¸ í™”ë©´ì—ë§Œ í‘œì‹œ (Kahoot ë°©ì‹)
- ì°¸ê°€ìëŠ” **ìƒ‰ìƒ+ëª¨ì–‘**ìœ¼ë¡œ ë‹µë³€ ì„ íƒ

---

## 2. ìœ ì‚¬ ì„œë¹„ìŠ¤ ë¶„ì„

### 2.1 ê²½ìŸ ì„œë¹„ìŠ¤ ë¹„êµ

| ì„œë¹„ìŠ¤ | ì¥ì  | ë‹¨ì  |
|--------|------|------|
| **Kahoot** | ë¸Œëœë“œ ì¸ì§€ë„, ê²Œì„í™”, êµìœ¡ íŠ¹í™” | ë¬´ë£Œ í‹°ì–´ ì œí•œ, ì§ˆë¬¸ì´ í˜¸ìŠ¤íŠ¸ í™”ë©´ì—ë§Œ |
| **Quizizz** | Self-paced ëª¨ë“œ, ê³¼ì œ ê¸°ëŠ¥ | ì‹¤ì‹œê°„ ê²½ìŸê° ì•½í•¨ |
| **Blooket** | ë‹¤ì–‘í•œ ê²Œì„ ëª¨ë“œ (Tower Defense ë“±) | ë³µì¡í•œ ê·œì¹™ |
| **Gimkit** | ê²½ì œ ì‹œìŠ¤í…œ, ì—…ê·¸ë ˆì´ë“œ | ìœ ë£Œ ($9.99/ì›”) |

### 2.2 ì°¨ë³„í™” ì „ëµ
1. **í•œêµ­ì–´ ìµœì í™”**: í•œê¸€ ì§ˆë¬¸ í…œí”Œë¦¿, í•œêµ­ ë¬¸í™” í€´ì¦ˆ
2. **ë¬´ë£Œ & ë¬´ì œí•œ**: ì°¸ê°€ì ìˆ˜/í€´ì¦ˆ ìˆ˜ ì œí•œ ì—†ìŒ
3. **live-voting ì—°ë™**: ê¸°ì¡´ ì‹¤ì‹œê°„ ì¸í”„ë¼ ì¬ì‚¬ìš©
4. **ê°„ê²°í•œ UX**: ë³µì¡í•œ ê²Œì„ ëª¨ë“œ ì—†ì´ í•µì‹¬ì— ì§‘ì¤‘

---

## 3. ê¸°ìˆ  ìŠ¤íƒ

### 3.1 í”„ë¡ íŠ¸ì—”ë“œ
- **Next.js 15 App Router**
- **React 19 + TypeScript**
- **Tailwind CSS v3**
- **Zustand 5**: ê²Œì„ ìƒíƒœ ê´€ë¦¬
- **Framer Motion**: ë¦¬ë”ë³´ë“œ ì• ë‹ˆë©”ì´ì…˜
- **react-confetti**: ìš°ìŠ¹ì ì¶•í•˜ íš¨ê³¼

### 3.2 ë°±ì—”ë“œ/ì‹¤ì‹œê°„
- **Supabase Realtime**: Presence + Broadcast
- **Supabase Database**: í€´ì¦ˆ, ì„¸ì…˜, ì ìˆ˜ ì €ì¥

### 3.3 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
```bash
pnpm add @supabase/supabase-js nanoid framer-motion react-confetti
```

---

## 4. í•µì‹¬ ê¸°ëŠ¥

### 4.1 í€´ì¦ˆ ìƒì„± (í˜¸ìŠ¤íŠ¸)

#### 4.1.1 íƒ€ì… ì •ì˜
```typescript
// types/quiz.ts
export interface Quiz {
  id: string;
  title: string;
  description?: string;
  questions: QuizQuestion[];
  settings: QuizSettings;
  createdAt: string;
  createdBy: string;
}

export interface QuizQuestion {
  id: string;
  text: string;              // ì§ˆë¬¸
  type: 'multiple' | 'truefalse';
  options: string[];         // ì„ íƒì§€ (4ê°œ ë˜ëŠ” 2ê°œ)
  correctIndex: number;      // ì •ë‹µ ì¸ë±ìŠ¤
  timeLimit: number;         // ì´ˆ (5, 10, 15, 20, 30)
  points: number;            // ê¸°ë³¸ ì ìˆ˜ (100, 200, 500, 1000)
  imageUrl?: string;         // ì§ˆë¬¸ ì´ë¯¸ì§€
}

export interface QuizSettings {
  showLeaderboardAfterEach: boolean;  // ë¬¸ì œë§ˆë‹¤ ë¦¬ë”ë³´ë“œ í‘œì‹œ
  randomizeQuestionOrder: boolean;    // ë¬¸ì œ ìˆœì„œ ì…”í”Œ
  randomizeOptionOrder: boolean;      // ì„ íƒì§€ ìˆœì„œ ì…”í”Œ
  speedBonus: boolean;                // ë¹ ë¥¸ ë‹µë³€ ë³´ë„ˆìŠ¤
  streakBonus: boolean;               // ì—°ì† ì •ë‹µ ë³´ë„ˆìŠ¤
}
```

#### 4.1.2 í€´ì¦ˆ ì—ë””í„° ê¸°ëŠ¥
- **ì§ˆë¬¸ ì¶”ê°€**: ê°ê´€ì‹(4ì§€ì„ ë‹¤) / O/X
- **ì‹œê°„ ì œí•œ ì„¤ì •**: 5ì´ˆ, 10ì´ˆ, 15ì´ˆ, 20ì´ˆ, 30ì´ˆ
- **ì ìˆ˜ ì„¤ì •**: 100, 200, 500, 1000ì 
- **ì´ë¯¸ì§€ ì²¨ë¶€**: ì§ˆë¬¸ì— ì´ë¯¸ì§€ ì¶”ê°€
- **ë¯¸ë¦¬ë³´ê¸°**: ì°¸ê°€ì í™”ë©´ ë¯¸ë¦¬ë³´ê¸°
- **ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°**: í€´ì¦ˆ í…œí”Œë¦¿ ì €ì¥

---

### 4.2 ê²Œì„ ì„¸ì…˜

#### 4.2.1 ì„¸ì…˜ íë¦„
```
1. í˜¸ìŠ¤íŠ¸: í€´ì¦ˆ ì„ íƒ â†’ ì„¸ì…˜ ìƒì„± â†’ ëŒ€ê¸° í™”ë©´
2. ì°¸ê°€ì: ì½”ë“œ ì…ë ¥ â†’ ë‹‰ë„¤ì„ ì…ë ¥ â†’ ëŒ€ê¸° (ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œ)
3. í˜¸ìŠ¤íŠ¸: "ì‹œì‘" ë²„íŠ¼ í´ë¦­
4. ëª¨ë“  í™”ë©´: ì¹´ìš´íŠ¸ë‹¤ìš´ (3, 2, 1, GO!)
5. ì§ˆë¬¸ ë£¨í”„:
   - ì§ˆë¬¸ í‘œì‹œ (í˜¸ìŠ¤íŠ¸ í™”ë©´: ì§ˆë¬¸ + ì„ íƒì§€)
   - íƒ€ì´ë¨¸ ì‹œì‘
   - ì°¸ê°€ì: ë‹µë³€ ì„ íƒ
   - íƒ€ì´ë¨¸ ì¢…ë£Œ ë˜ëŠ” ì „ì› ë‹µë³€ ì™„ë£Œ
   - ì •ë‹µ ê³µê°œ + ì ìˆ˜ ì—…ë°ì´íŠ¸
   - ë¦¬ë”ë³´ë“œ í‘œì‹œ (ì„¤ì • ì‹œ)
   - ë‹¤ìŒ ì§ˆë¬¸
6. ê²Œì„ ì¢…ë£Œ: ìµœì¢… ìˆœìœ„ ë°œí‘œ, Confetti
```

#### 4.2.2 ì ìˆ˜ ê³„ì‚°
```typescript
interface ScoreCalculation {
  basePoints: number;       // ë¬¸ì œ ê¸°ë³¸ ì ìˆ˜
  speedBonus: number;       // ë¹ ë¥¸ ë‹µë³€ ë³´ë„ˆìŠ¤ (ìµœëŒ€ 50%)
  streakBonus: number;      // ì—°ì† ì •ë‹µ ë³´ë„ˆìŠ¤ (2ì—°ì†: +10%, 3ì—°ì†: +20%, ...)
  totalPoints: number;
}

function calculateScore(
  isCorrect: boolean,
  timeLeft: number,        // ë‚¨ì€ ì‹œê°„ (ì´ˆ)
  timeLimit: number,       // ì œí•œ ì‹œê°„ (ì´ˆ)
  basePoints: number,
  currentStreak: number,
  settings: QuizSettings
): ScoreCalculation {
  if (!isCorrect) {
    return { basePoints: 0, speedBonus: 0, streakBonus: 0, totalPoints: 0 };
  }

  // ì†ë„ ë³´ë„ˆìŠ¤: ë‚¨ì€ ì‹œê°„ ë¹„ìœ¨ Ã— 50%
  const speedMultiplier = settings.speedBonus
    ? 1 + (timeLeft / timeLimit) * 0.5
    : 1;

  // ì—°ì† ì •ë‹µ ë³´ë„ˆìŠ¤: ì—°ì† íšŸìˆ˜ Ã— 10% (ìµœëŒ€ 50%)
  const streakMultiplier = settings.streakBonus
    ? 1 + Math.min(currentStreak * 0.1, 0.5)
    : 1;

  const speedBonus = Math.round(basePoints * (speedMultiplier - 1));
  const streakBonus = Math.round(basePoints * (streakMultiplier - 1));
  const totalPoints = Math.round(basePoints * speedMultiplier * streakMultiplier);

  return { basePoints, speedBonus, streakBonus, totalPoints };
}
```

---

### 4.3 ì‹¤ì‹œê°„ ë™ê¸°í™”

#### 4.3.1 Supabase ì±„ë„ ì´ë²¤íŠ¸
```typescript
// í˜¸ìŠ¤íŠ¸ â†’ ì°¸ê°€ì
type HostEvent =
  | { type: 'game_start' }
  | { type: 'question_show'; question: QuizQuestion; questionNumber: number }
  | { type: 'timer_sync'; timeLeft: number }
  | { type: 'question_end' }
  | { type: 'answer_reveal'; correctIndex: number }
  | { type: 'leaderboard_show'; leaderboard: LeaderboardEntry[] }
  | { type: 'game_end'; finalLeaderboard: LeaderboardEntry[] };

// ì°¸ê°€ì â†’ í˜¸ìŠ¤íŠ¸
type PlayerEvent =
  | { type: 'answer_submit'; participantId: string; answerIndex: number; timeLeft: number }
  | { type: 'player_join'; participantId: string; nickname: string }
  | { type: 'player_leave'; participantId: string };

// ë¦¬ë”ë³´ë“œ ì—”íŠ¸ë¦¬
interface LeaderboardEntry {
  participantId: string;
  nickname: string;
  score: number;
  rank: number;
  correctCount: number;
  streak: number;
}
```

#### 4.3.2 ì‹¤ì‹œê°„ í›…
```typescript
// hooks/useQuizSession.ts
export function useQuizSession(sessionId: string, role: 'host' | 'player') {
  const channel = supabase.channel(`quiz:${sessionId}`);
  const [participants, setParticipants] = useState<Participant[]>([]);
  const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);
  const [currentQuestion, setCurrentQuestion] = useState<QuizQuestion | null>(null);
  const [timeLeft, setTimeLeft] = useState(0);

  useEffect(() => {
    // Presence: ì°¸ê°€ì ëª©ë¡
    channel.on('presence', { event: 'sync' }, () => {
      const state = channel.presenceState();
      const players = Object.values(state).flat() as Participant[];
      setParticipants(players);
    });

    // Broadcast: ê²Œì„ ì´ë²¤íŠ¸
    channel.on('broadcast', { event: 'game_event' }, ({ payload }) => {
      handleGameEvent(payload as HostEvent | PlayerEvent);
    });

    channel.subscribe();

    return () => { channel.unsubscribe(); };
  }, [sessionId]);

  return { participants, leaderboard, currentQuestion, timeLeft, channel };
}
```

---

### 4.4 UI ë””ìì¸

#### 4.4.1 í˜¸ìŠ¤íŠ¸ í”„ë ˆì  í…Œì´ì…˜ ëª¨ë“œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ í€´ì¦ˆì‡¼                    ì°¸ê°€ì: 32ëª…      ë¬¸ì œ 3/10       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚        " ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ”? "                                    â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚  ğŸ”´ ì„œìš¸       â”‚  â”‚  ğŸ”µ ë¶€ì‚°       â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚  ğŸŸ¡ ì¸ì²œ       â”‚  â”‚  ğŸŸ¢ ëŒ€ì „       â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                 â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â±ï¸ 8ì´ˆ                   â”‚
â”‚                                                                 â”‚
â”‚   ğŸ“Š 28ëª… ë‹µë³€ ì™„ë£Œ                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4.2 ì°¸ê°€ì ëª¨ë°”ì¼ í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í€´ì¦ˆì‡¼          ë¬¸ì œ 3/10   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              â”‚
â”‚  " ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ”? "       â”‚
â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      ğŸ”´ ì„œìš¸           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      ğŸ”µ ë¶€ì‚°           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      ğŸŸ¡ ì¸ì²œ           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      ğŸŸ¢ ëŒ€ì „           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â”‚      â±ï¸ 8ì´ˆ ë‚¨ìŒ             â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4.3 ë¦¬ë”ë³´ë“œ í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸ† ë¦¬ë”ë³´ë“œ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ğŸ¥‡  ê¹€ì² ìˆ˜        2,450ì   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ +350          â”‚
â”‚                              â†‘ 1ìœ„ ìœ ì§€                         â”‚
â”‚                                                                 â”‚
â”‚   ğŸ¥ˆ  ë°•ì˜í¬        2,100ì   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ +280             â”‚
â”‚                              â†‘ 2ë‹¨ê³„ ìƒìŠ¹                       â”‚
â”‚                                                                 â”‚
â”‚   ğŸ¥‰  ì´ë¯¼ìˆ˜        1,980ì   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ +0                â”‚
â”‚                              â†“ 1ë‹¨ê³„ í•˜ë½                       â”‚
â”‚                                                                 â”‚
â”‚   4.  ì •ìˆ˜ì§„        1,850ì   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                    â”‚
â”‚   5.  ìµœë™í›ˆ        1,720ì   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                     â”‚
â”‚   ...                                                           â”‚
â”‚                                                                 â”‚
â”‚                    [ ë‹¤ìŒ ë¬¸ì œ ]                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ë°ì´í„° ëª¨ë¸ (Supabase)

### 5.1 í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
```sql
-- í€´ì¦ˆ í…œí”Œë¦¿
CREATE TABLE quizzes (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  description TEXT,
  questions JSONB NOT NULL,
  settings JSONB NOT NULL,
  created_by TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  is_public BOOLEAN DEFAULT false
);

-- ê²Œì„ ì„¸ì…˜
CREATE TABLE quiz_sessions (
  id TEXT PRIMARY KEY,
  quiz_id TEXT REFERENCES quizzes(id),
  host_id TEXT NOT NULL,
  status TEXT DEFAULT 'waiting',
  current_question_index INTEGER DEFAULT 0,
  started_at TIMESTAMPTZ,
  ended_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì°¸ê°€ì ë‹µë³€ ë° ì ìˆ˜
CREATE TABLE quiz_answers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id TEXT REFERENCES quiz_sessions(id),
  participant_id TEXT NOT NULL,
  question_index INTEGER NOT NULL,
  answer_index INTEGER,
  time_left NUMERIC,
  is_correct BOOLEAN,
  points_earned INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(session_id, participant_id, question_index)
);

-- ìµœì¢… ì ìˆ˜ (ì§‘ê³„ìš©)
CREATE TABLE quiz_scores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id TEXT REFERENCES quiz_sessions(id),
  participant_id TEXT NOT NULL,
  nickname TEXT NOT NULL,
  total_score INTEGER DEFAULT 0,
  correct_count INTEGER DEFAULT 0,
  final_rank INTEGER,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(session_id, participant_id)
);
```

---

## 6. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/app/realtime-quiz/
â”œâ”€â”€ page.tsx                    # ëœë”© (í˜¸ìŠ¤íŠ¸/ì°¸ì—¬ ì„ íƒ)
â”œâ”€â”€ create/
â”‚   â””â”€â”€ page.tsx                # í€´ì¦ˆ ìƒì„±/í¸ì§‘
â”œâ”€â”€ host/
â”‚   â””â”€â”€ [sessionId]/
â”‚       â”œâ”€â”€ page.tsx            # í˜¸ìŠ¤íŠ¸ ëŒ€ê¸°/ì»¨íŠ¸ë¡¤
â”‚       â””â”€â”€ present/
â”‚           â””â”€â”€ page.tsx        # í”„ë ˆì  í…Œì´ì…˜ ëª¨ë“œ
â”œâ”€â”€ join/
â”‚   â””â”€â”€ page.tsx                # ì°¸ì—¬ ì½”ë“œ ì…ë ¥
â”œâ”€â”€ play/
â”‚   â””â”€â”€ [sessionId]/
â”‚       â””â”€â”€ page.tsx            # ì°¸ê°€ì ê²Œì„ í™”ë©´
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ QuizEditor.tsx          # í€´ì¦ˆ í¸ì§‘ê¸°
â”‚   â”œâ”€â”€ QuestionCard.tsx        # ì§ˆë¬¸ í‘œì‹œ
â”‚   â”œâ”€â”€ AnswerButton.tsx        # ë‹µë³€ ë²„íŠ¼
â”‚   â”œâ”€â”€ Leaderboard.tsx         # ë¦¬ë”ë³´ë“œ
â”‚   â”œâ”€â”€ Timer.tsx               # íƒ€ì´ë¨¸
â”‚   â”œâ”€â”€ ScorePopup.tsx          # ì ìˆ˜ íšë“ íŒì—…
â”‚   â”œâ”€â”€ Countdown.tsx           # 3-2-1 ì¹´ìš´íŠ¸ë‹¤ìš´
â”‚   â””â”€â”€ WinnerCelebration.tsx   # ìš°ìŠ¹ì ì¶•í•˜
â”œâ”€â”€ store/
â”‚   â””â”€â”€ useQuizStore.ts         # Zustand ìƒíƒœ
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useQuizSession.ts       # ì‹¤ì‹œê°„ ì„¸ì…˜
â””â”€â”€ types/
    â””â”€â”€ index.ts                # íƒ€ì… ì •ì˜
```

---

## 7. í€´ì¦ˆ í…œí”Œë¦¿

### 7.1 ê¸°ë³¸ ì œê³µ í€´ì¦ˆ
```typescript
export const defaultQuizzes = {
  koreanGeography: {
    title: "ëŒ€í•œë¯¼êµ­ ì§€ë¦¬ í€´ì¦ˆ",
    questions: [
      { text: "ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ”?", options: ["ì„œìš¸", "ë¶€ì‚°", "ì¸ì²œ", "ëŒ€ì „"], correctIndex: 0 },
      { text: "ê°€ì¥ í° ì„¬ì€?", options: ["ì œì£¼ë„", "ê±°ì œë„", "ê°•í™”ë„", "ìš¸ë¦‰ë„"], correctIndex: 0 },
      // ...
    ],
  },
  generalKnowledge: {
    title: "ì¼ë°˜ ìƒì‹ í€´ì¦ˆ",
    questions: [
      { text: "ë¬¼ì˜ í™”í•™ì‹ì€?", options: ["H2O", "CO2", "NaCl", "O2"], correctIndex: 0 },
      // ...
    ],
  },
  movieTrivia: {
    title: "ì˜í™” í€´ì¦ˆ",
    questions: [
      { text: "'ê¸°ìƒì¶©' ê°ë…ì€?", options: ["ë´‰ì¤€í˜¸", "ë°•ì°¬ìš±", "ê¹€ê¸°ë•", "ì´ì°½ë™"], correctIndex: 0 },
      // ...
    ],
  },
};
```

---

## 8. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: MVP (2ì£¼)
- [ ] í€´ì¦ˆ ìƒì„± UI (ê°„ë‹¨ ë²„ì „)
- [ ] ì„¸ì…˜ ìƒì„±/ì°¸ì—¬
- [ ] ì‹¤ì‹œê°„ ì§ˆë¬¸/ë‹µë³€
- [ ] ê¸°ë³¸ ì ìˆ˜ ê³„ì‚°
- [ ] ë¦¬ë”ë³´ë“œ

### Phase 2: ê²Œì„í™” (1ì£¼)
- [ ] ì†ë„ ë³´ë„ˆìŠ¤
- [ ] ì—°ì† ì •ë‹µ ë³´ë„ˆìŠ¤
- [ ] ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
- [ ] ìš°ìŠ¹ì ì¶•í•˜ íš¨ê³¼

### Phase 3: ê³ ê¸‰ ê¸°ëŠ¥ (1ì£¼)
- [ ] í€´ì¦ˆ í…œí”Œë¦¿ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
- [ ] ì´ë¯¸ì§€ ì§ˆë¬¸
- [ ] ê²°ê³¼ ë¦¬í¬íŠ¸
- [ ] íŒ€ ëª¨ë“œ

---

## 9. ì°¸ê³  ìë£Œ

### ìœ ì‚¬ ì„œë¹„ìŠ¤
- [Kahoot](https://kahoot.com/)
- [Quizizz](https://quizizz.com/)
- [Blooket](https://www.blooket.com/)
- [Gimkit](https://gimkit.com/)

### ê¸°ìˆ  ë¬¸ì„œ
- [Supabase Realtime](https://supabase.com/docs/guides/realtime)
- [Framer Motion](https://www.framer.com/motion/)

---

**ì‘ì„±ì¼**: 2024-12-23
**ë²„ì „**: 1.0
