# Word Cloud - ì‹¤ì‹œê°„ ì›Œë“œ í´ë¼ìš°ë“œ

## 1. ê°œìš”

### 1.1 ì•± ì„¤ëª…
Word CloudëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ì°¸ê°€ìë“¤ì˜ í…ìŠ¤íŠ¸ ì…ë ¥ì„ ìˆ˜ì§‘í•˜ì—¬ ì›Œë“œ í´ë¼ìš°ë“œë¥¼ ìƒì„±í•˜ëŠ” ì•„ì´ìŠ¤ë¸Œë ˆì´í‚¹ ë„êµ¬ì…ë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ê°€ ì§ˆë¬¸ì„ ë˜ì§€ë©´ ì°¸ê°€ìë“¤ì´ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ê³ , ë§ì´ ì…ë ¥ëœ ë‹¨ì–´ê°€ í¬ê²Œ í‘œì‹œë©ë‹ˆë‹¤. Mentimeterì˜ Word Cloud ê¸°ëŠ¥ì„ ë¬´ë£Œë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

### 1.2 íƒ€ê²Ÿ ì‚¬ìš©ì
- **ê°•ì˜ì/ë°œí‘œì**: ì²­ì¤‘ ì˜ê²¬ ìˆ˜ì§‘, ë¸Œë ˆì¸ìŠ¤í† ë°
- **ì›Œí¬ìƒµ ì§„í–‰ì**: ì•„ì´ìŠ¤ë¸Œë ˆì´í‚¹, íŒ€ ì˜ê²¬ í†µí•©
- **íšŒì˜ ì§„í–‰ì**: ì•„ì´ë””ì–´ ìˆ˜ì§‘, íˆ¬í‘œ ëŒ€ì•ˆ
- **êµìœ¡ì**: í•™ìƒë“¤ì˜ ì´í•´ë„ ì²´í¬

### 1.3 í•µì‹¬ ê°€ì¹˜
- **ì¦‰ê°ì ì¸ ì‹œê°í™”**: ì…ë ¥ ì¦‰ì‹œ ì›Œë“œ í´ë¼ìš°ë“œì— ë°˜ì˜
- **ìµëª… ì°¸ì—¬**: ë¶€ë‹´ ì—†ì´ ì†”ì§í•œ ì˜ê²¬ í‘œí˜„
- **ì•„ë¦„ë‹¤ìš´ ê²°ê³¼ë¬¼**: ê³µìœ  ê°€ëŠ¥í•œ ì´ë¯¸ì§€ ìƒì„±
- **ë¬´ë£Œ & ë¬´ì œí•œ**: ì°¸ê°€ì ìˆ˜/ë‹¨ì–´ ìˆ˜ ì œí•œ ì—†ìŒ

### 1.4 ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
1. **ìˆ˜ì—… ì‹œì‘**: "ì˜¤ëŠ˜ ìˆ˜ì—…ì—ì„œ ê¸°ëŒ€í•˜ëŠ” ê²ƒì€?" â†’ í•™ìŠµ ëª©í‘œ íŒŒì•…
2. **íšŒì˜ ì‹œì‘**: "ìš°ë¦¬ íŒ€ì˜ ê°•ì ì€?" â†’ íŒ€ ì •ì²´ì„± í™•ì¸
3. **ì´ë²¤íŠ¸ ë§ˆë¬´ë¦¬**: "ì˜¤ëŠ˜ í–‰ì‚¬ë¥¼ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´?" â†’ ë§Œì¡±ë„ íŒŒì•…
4. **ë¸Œë ˆì¸ìŠ¤í† ë°**: "ì‹ ì œí’ˆ ì•„ì´ë””ì–´ë¥¼ í•œ ë‹¨ì–´ë¡œ?" â†’ ì•„ì´ë””ì–´ ìˆ˜ì§‘

### 1.5 ì°¸ì—¬ ëª¨ë“œ ì›ì¹™
> **í˜¸ìŠ¤íŠ¸ = PC/í”„ë¡œì í„°(í° í™”ë©´), ì°¸ê°€ì = ëª¨ë°”ì¼**

| ì—­í•  | ë””ë°”ì´ìŠ¤ | í™”ë©´ êµ¬ì„± |
|------|----------|-----------|
| **í˜¸ìŠ¤íŠ¸** | PC/í”„ë¡œì í„° | ì§ˆë¬¸ í‘œì‹œ, ì‹¤ì‹œê°„ ì›Œë“œ í´ë¼ìš°ë“œ, ì°¸ê°€ì ìˆ˜, ì…ë ¥ ë§ˆê° |
| **ì°¸ê°€ì** | ëª¨ë°”ì¼ (í•„ìˆ˜) | 6ìë¦¬ ì½”ë“œ ì…ë ¥ â†’ ë‹¨ì–´ ì…ë ¥ í•„ë“œ â†’ ì œì¶œ ë²„íŠ¼ |

- ì°¸ê°€ì í™”ë©´ì€ **ëª¨ë°”ì¼ ì„¸ë¡œ ëª¨ë“œì— ìµœì í™”**
- í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œëŠ” **í™”ë©´ í•˜ë‹¨ ê³ ì •** (í‚¤ë³´ë“œ ì˜ì—­ ê³ ë ¤)
- ì…ë ¥ í›„ **ì¦‰ì‹œ í”¼ë“œë°±** (ë‚´ ë‹¨ì–´ ì œì¶œë¨ í‘œì‹œ)
- ì›Œë“œ í´ë¼ìš°ë“œëŠ” í˜¸ìŠ¤íŠ¸ í™”ë©´ì—ì„œë§Œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- ì°¸ê°€ìëŠ” ìì‹ ì´ ì…ë ¥í•œ ë‹¨ì–´ ëª©ë¡ë§Œ í™•ì¸

---

## 2. ìœ ì‚¬ ì„œë¹„ìŠ¤ ë¶„ì„

### 2.1 ê²½ìŸ ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | ì¥ì  | ë‹¨ì  |
|--------|------|------|
| **Mentimeter** | ì•„ë¦„ë‹¤ìš´ ë””ìì¸, ë‹¤ì–‘í•œ ìƒ‰ìƒ í…Œë§ˆ | ë¬´ë£Œ 50ëª… ì œí•œ, ì›” $8.99 |
| **AhaSlides** | ë¬´ë£Œ í‹°ì–´ ê´€ëŒ€, ì‹¤ì‹œê°„ ë™ê¸°í™” | í•œê¸€ ë Œë”ë§ ì´ìŠˆ |
| **Slido** | Webex/Teams í†µí•© | ì›Œë“œ í´ë¼ìš°ë“œëŠ” ìœ ë£Œ |
| **Poll Everywhere** | ê¸°ì—…ìš© ê¸°ëŠ¥ | ë¹„ìŒˆ ($240/ë…„) |

### 2.2 ì°¨ë³„í™” ì „ëµ
1. **í•œê¸€ ìµœì í™”**: Pretendard í°íŠ¸, í•œê¸€ í˜•íƒœì†Œ ë¶„ì„
2. **ì™„ì „ ë¬´ë£Œ**: ì°¸ê°€ì ìˆ˜/ë‹¨ì–´ ìˆ˜ ë¬´ì œí•œ
3. **ì˜¤í”„ë¼ì¸ ì§€ì›**: localStorage ë°±ì—…
4. **ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ìƒ‰ìƒ, í°íŠ¸, ë°°ê²½ ì„ íƒ

---

## 3. ê¸°ìˆ  ìŠ¤íƒ

### 3.1 í”„ë¡ íŠ¸ì—”ë“œ
- **Next.js 15 App Router**
- **React 19 + TypeScript**
- **Tailwind CSS v3**
- **react-wordcloud**: ì›Œë“œ í´ë¼ìš°ë“œ ë Œë”ë§
- **d3-cloud**: ë ˆì´ì•„ì›ƒ ì•Œê³ ë¦¬ì¦˜ (ëŒ€ì•ˆ)

### 3.2 ë°±ì—”ë“œ/ì‹¤ì‹œê°„
- **Supabase Realtime**: ë‹¨ì–´ ìˆ˜ì§‘ ë™ê¸°í™”
- **Supabase Database**: ì„¸ì…˜/ë‹¨ì–´ ì €ì¥

### 3.3 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
```bash
pnpm add @supabase/supabase-js nanoid react-wordcloud d3-cloud
pnpm add -D @types/d3-cloud
```

---

## 4. í•µì‹¬ ê¸°ëŠ¥

### 4.1 ì„¸ì…˜ ìƒì„± (í˜¸ìŠ¤íŠ¸)

#### 4.1.1 íƒ€ì… ì •ì˜
```typescript
// types/word-cloud.ts
export interface WordCloudSession {
  id: string;           // 6ìë¦¬ ì½”ë“œ
  hostId: string;
  title: string;        // "ì˜¤ëŠ˜ ê¸°ë¶„ì„ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´?"
  settings: WordCloudSettings;
  status: 'collecting' | 'closed';
  createdAt: string;
}

export interface WordCloudSettings {
  maxWordsPerPerson: number;     // 1ì¸ë‹¹ ìµœëŒ€ ë‹¨ì–´ ìˆ˜ (1-5)
  allowDuplicates: boolean;      // ê°™ì€ ë‹¨ì–´ ì¤‘ë³µ í—ˆìš©
  minWordLength: number;         // ìµœì†Œ ë‹¨ì–´ ê¸¸ì´
  maxWordLength: number;         // ìµœëŒ€ ë‹¨ì–´ ê¸¸ì´
  colorScheme: ColorScheme;      // ìƒ‰ìƒ í…Œë§ˆ
  fontFamily: string;            // í°íŠ¸
  shape: 'circle' | 'rectangle' | 'heart';  // êµ¬ë¦„ ëª¨ì–‘
}

export interface WordEntry {
  id: string;
  sessionId: string;
  word: string;
  participantId: string;
  createdAt: string;
}

export interface WordCount {
  text: string;
  value: number;  // ë¹ˆë„
}

export type ColorScheme =
  | 'rainbow'      // ë¬´ì§€ê°œìƒ‰
  | 'ocean'        // íŒŒë‘ ê³„ì—´
  | 'sunset'       // ì£¼í™©/ë¶„í™ ê³„ì—´
  | 'forest'       // ì´ˆë¡ ê³„ì—´
  | 'mono'         // ë‹¨ìƒ‰
  | 'custom';      // ì‚¬ìš©ì ì •ì˜
```

#### 4.1.2 í˜¸ìŠ¤íŠ¸ UI ê¸°ëŠ¥
- **ì§ˆë¬¸ ì…ë ¥**: ì°¸ê°€ìì—ê²Œ ë³´ì—¬ì¤„ í”„ë¡¬í”„íŠ¸
- **ì„¤ì • ì¡°ì •**: ë‹¨ì–´ ìˆ˜, ìƒ‰ìƒ, í°íŠ¸ ë“±
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: ì°¸ê°€ì ìˆ˜, ìˆ˜ì§‘ëœ ë‹¨ì–´ ìˆ˜
- **ì…ë ¥ ì¢…ë£Œ**: ë” ì´ìƒ ë‹¨ì–´ ìˆ˜ì§‘ ì•ˆ í•¨
- **ê²°ê³¼ ë‚´ë³´ë‚´ê¸°**: PNG/SVG ì´ë¯¸ì§€

---

### 4.2 ì°¸ê°€ì ì…ë ¥

#### 4.2.1 ì…ë ¥ í”Œë¡œìš°
```
1. QR ìŠ¤ìº” ë˜ëŠ” ì½”ë“œ ì…ë ¥
2. ì§ˆë¬¸ í™”ë©´ í‘œì‹œ
3. ë‹¨ì–´ ì…ë ¥ (ìµœëŒ€ Nê°œ)
4. ì œì¶œ ì™„ë£Œ í™”ë©´
```

#### 4.2.2 ì…ë ¥ ê²€ì¦
```typescript
function validateWord(word: string, settings: WordCloudSettings): { valid: boolean; error?: string } {
  const trimmed = word.trim();

  if (trimmed.length < settings.minWordLength) {
    return { valid: false, error: `ìµœì†Œ ${settings.minWordLength}ê¸€ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.` };
  }

  if (trimmed.length > settings.maxWordLength) {
    return { valid: false, error: `ìµœëŒ€ ${settings.maxWordLength}ê¸€ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.` };
  }

  // ê¸ˆì¹™ì–´ í•„í„°ë§ (ì„ íƒì )
  if (containsBannedWord(trimmed)) {
    return { valid: false, error: 'ë¶€ì ì ˆí•œ ë‹¨ì–´ì…ë‹ˆë‹¤.' };
  }

  return { valid: true };
}
```

---

### 4.3 ì›Œë“œ í´ë¼ìš°ë“œ ë Œë”ë§

#### 4.3.1 react-wordcloud ì‚¬ìš©
```typescript
import ReactWordcloud from 'react-wordcloud';

interface WordCloudDisplayProps {
  words: WordCount[];
  settings: WordCloudSettings;
}

export function WordCloudDisplay({ words, settings }: WordCloudDisplayProps) {
  const options = {
    colors: getColorPalette(settings.colorScheme),
    fontFamily: settings.fontFamily || 'Pretendard',
    fontSizes: [16, 80] as [number, number],
    rotations: 2,
    rotationAngles: [-10, 10] as [number, number],
    scale: 'sqrt' as const,
    spiral: 'archimedean' as const,
    transitionDuration: 500,
  };

  const callbacks = {
    onWordClick: (word: WordCount) => {
      console.log(`"${word.text}" í´ë¦­ë¨ (${word.value}íšŒ)`);
    },
  };

  return (
    <div className="w-full h-[600px]">
      <ReactWordcloud
        words={words}
        options={options}
        callbacks={callbacks}
      />
    </div>
  );
}

function getColorPalette(scheme: ColorScheme): string[] {
  const palettes: Record<ColorScheme, string[]> = {
    rainbow: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'],
    ocean: ['#0077B6', '#00B4D8', '#90E0EF', '#CAF0F8', '#03045E'],
    sunset: ['#FF6B6B', '#FF8E72', '#FFB347', '#FFD93D', '#FF69B4'],
    forest: ['#2D5016', '#4A7C23', '#6B8E23', '#9ACD32', '#98D8C8'],
    mono: ['#1a1a1a', '#333333', '#4d4d4d', '#666666', '#808080'],
    custom: ['#3B82F6', '#8B5CF6', '#EC4899'], // ê¸°ë³¸ê°’
  };
  return palettes[scheme];
}
```

#### 4.3.2 ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```typescript
// hooks/useRealtimeWordCloud.ts
export function useRealtimeWordCloud(sessionId: string) {
  const [words, setWords] = useState<WordCount[]>([]);
  const [rawEntries, setRawEntries] = useState<WordEntry[]>([]);

  useEffect(() => {
    const channel = supabase.channel(`wordcloud:${sessionId}`);

    // ìƒˆ ë‹¨ì–´ ìˆ˜ì‹ 
    channel.on('broadcast', { event: 'new_word' }, ({ payload }) => {
      const entry = payload as WordEntry;
      setRawEntries(prev => [...prev, entry]);
    });

    channel.subscribe();

    return () => { channel.unsubscribe(); };
  }, [sessionId]);

  // ë‹¨ì–´ ë¹ˆë„ ê³„ì‚°
  useEffect(() => {
    const wordMap = new Map<string, number>();

    rawEntries.forEach(entry => {
      const word = entry.word.toLowerCase().trim();
      wordMap.set(word, (wordMap.get(word) || 0) + 1);
    });

    const wordCounts: WordCount[] = Array.from(wordMap.entries())
      .map(([text, value]) => ({ text, value }))
      .sort((a, b) => b.value - a.value);

    setWords(wordCounts);
  }, [rawEntries]);

  return { words, totalEntries: rawEntries.length };
}
```

---

### 4.4 ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°

#### 4.4.1 SVG â†’ PNG ë³€í™˜
```typescript
import { toPng, toSvg } from 'html-to-image';

async function exportWordCloudAsImage(
  elementId: string,
  format: 'png' | 'svg' = 'png'
): Promise<void> {
  const element = document.getElementById(elementId);
  if (!element) throw new Error('Element not found');

  const exportFn = format === 'png' ? toPng : toSvg;

  const dataUrl = await exportFn(element, {
    quality: 1,
    backgroundColor: '#ffffff',
    pixelRatio: 2,
  });

  const link = document.createElement('a');
  link.download = `wordcloud-${Date.now()}.${format}`;
  link.href = dataUrl;
  link.click();
}
```

---

## 5. UI ë””ìì¸

### 5.1 í˜¸ìŠ¤íŠ¸ í”„ë ˆì  í…Œì´ì…˜ ëª¨ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ì›Œë“œ í´ë¼ìš°ë“œ            code.app/XYZ123      ì°¸ê°€ì: 45ëª…  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚           " ì˜¤ëŠ˜ ê¸°ë¶„ì„ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´? "                     â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                                                           â”‚ â”‚
â”‚   â”‚           í–‰ë³µ          ê¸°ëŒ€                              â”‚ â”‚
â”‚   â”‚      ì„¤ë ˜    í”¼ê³¤         í¬ë§                            â”‚ â”‚
â”‚   â”‚  ê¸´ì¥     ì‹ ë‚¨       ì¦ê±°ì›€                               â”‚ â”‚
â”‚   â”‚    í¥ë¶„        í‰í™”        í¸ì•ˆ                           â”‚ â”‚
â”‚   â”‚       ê¸°ì¨    ì°¨ë¶„    í™œë ¥                                â”‚ â”‚
â”‚   â”‚                                                           â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚   ğŸ“ ì´ 127ê°œ ë‹¨ì–´ ìˆ˜ì§‘ë¨                                        â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [ì…ë ¥ ì¢…ë£Œ]  [ì´ë¯¸ì§€ ì €ì¥]  [ìƒˆ ì§ˆë¬¸]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì°¸ê°€ì ì…ë ¥ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì›Œë“œ í´ë¼ìš°ë“œ      XYZ123   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              â”‚
â”‚  " ì˜¤ëŠ˜ ê¸°ë¶„ì„ í•œ ë‹¨ì–´ë¡œ     â”‚
â”‚    í‘œí˜„í•˜ë©´? "               â”‚
â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ í–‰ë³µ                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â”‚       [ ì œì¶œí•˜ê¸° ]           â”‚
â”‚                              â”‚
â”‚  ë‚¨ì€ ì…ë ¥ íšŸìˆ˜: 2íšŒ         â”‚
â”‚                              â”‚
â”‚  ë‚´ê°€ ì…ë ¥í•œ ë‹¨ì–´:           â”‚
â”‚  â€¢ ì„¤ë ˜                      â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ë°ì´í„° ëª¨ë¸ (Supabase)

### 6.1 í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
```sql
-- ì„¸ì…˜ í…Œì´ë¸”
CREATE TABLE word_cloud_sessions (
  id TEXT PRIMARY KEY,
  host_id TEXT NOT NULL,
  title TEXT NOT NULL,
  settings JSONB NOT NULL DEFAULT '{}',
  status TEXT DEFAULT 'collecting',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  closed_at TIMESTAMPTZ
);

-- ë‹¨ì–´ ì—”íŠ¸ë¦¬
CREATE TABLE word_cloud_entries (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id TEXT REFERENCES word_cloud_sessions(id) ON DELETE CASCADE,
  word TEXT NOT NULL,
  participant_id TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_entries_session ON word_cloud_entries(session_id);
CREATE INDEX idx_entries_word ON word_cloud_entries(word);

-- RLS
ALTER TABLE word_cloud_sessions ENABLE ROW LEVEL SECURITY;
ALTER TABLE word_cloud_entries ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can read sessions" ON word_cloud_sessions
  FOR SELECT USING (true);

CREATE POLICY "Anyone can insert entries" ON word_cloud_entries
  FOR INSERT WITH CHECK (true);
```

---

## 7. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/app/word-cloud/
â”œâ”€â”€ page.tsx                    # ëœë”© (í˜¸ìŠ¤íŠ¸/ì°¸ì—¬ ì„ íƒ)
â”œâ”€â”€ host/
â”‚   â”œâ”€â”€ page.tsx                # ì„¸ì…˜ ìƒì„±
â”‚   â””â”€â”€ [sessionId]/
â”‚       â”œâ”€â”€ page.tsx            # í˜¸ìŠ¤íŠ¸ ì»¨íŠ¸ë¡¤ + ì›Œë“œ í´ë¼ìš°ë“œ
â”‚       â””â”€â”€ present/
â”‚           â””â”€â”€ page.tsx        # í”„ë ˆì  í…Œì´ì…˜ ëª¨ë“œ
â”œâ”€â”€ join/
â”‚   â””â”€â”€ page.tsx                # ì°¸ì—¬ ì½”ë“œ ì…ë ¥
â”œâ”€â”€ submit/
â”‚   â””â”€â”€ [sessionId]/
â”‚       â””â”€â”€ page.tsx            # ì°¸ê°€ì ë‹¨ì–´ ì…ë ¥
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ WordCloudDisplay.tsx    # ì›Œë“œ í´ë¼ìš°ë“œ ë Œë”ë§
â”‚   â”œâ”€â”€ WordInput.tsx           # ë‹¨ì–´ ì…ë ¥ í¼
â”‚   â”œâ”€â”€ ColorPicker.tsx         # ìƒ‰ìƒ í…Œë§ˆ ì„ íƒ
â”‚   â”œâ”€â”€ ExportButtons.tsx       # ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°
â”‚   â””â”€â”€ ParticipantCounter.tsx  # ì°¸ê°€ì ìˆ˜ í‘œì‹œ
â”œâ”€â”€ store/
â”‚   â””â”€â”€ useWordCloudStore.ts    # Zustand ìƒíƒœ
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useRealtimeWordCloud.ts # ì‹¤ì‹œê°„ ë™ê¸°í™”
â””â”€â”€ types/
    â””â”€â”€ index.ts                # íƒ€ì… ì •ì˜
```

---

## 8. ì¶”ê°€ ê¸°ëŠ¥ (í–¥í›„)

### 8.1 í•œê¸€ í˜•íƒœì†Œ ë¶„ì„
- **es-hangul** ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
- ì¡°ì‚¬ ì œê±°: "í–‰ë³µì´", "í–‰ë³µì„" â†’ "í–‰ë³µ"ìœ¼ë¡œ í†µí•©
- ë™ì˜ì–´ í†µí•©: "ê¸°ì¨", "ê¸°ì¨!" â†’ í•˜ë‚˜ë¡œ ì¹´ìš´íŠ¸

### 8.2 ê¸ˆì¹™ì–´ í•„í„°ë§
- ë¹„ì†ì–´ ìë™ ì°¨ë‹¨
- í˜¸ìŠ¤íŠ¸ê°€ ìˆ˜ë™ìœ¼ë¡œ íŠ¹ì • ë‹¨ì–´ ìˆ¨ê¸°ê¸°

### 8.3 ì• ë‹ˆë©”ì´ì…˜
- ìƒˆ ë‹¨ì–´ ì…ë ¥ ì‹œ ì›Œë“œ í´ë¼ìš°ë“œ ì• ë‹ˆë©”ì´ì…˜
- ë‹¨ì–´ í¬ê¸° ë³€í™” íŠ¸ëœì§€ì…˜

---

## 9. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: MVP (1ì£¼)
- [ ] ì„¸ì…˜ ìƒì„±
- [ ] ë‹¨ì–´ ì…ë ¥ (ì°¸ê°€ì)
- [ ] ê¸°ë³¸ ì›Œë“œ í´ë¼ìš°ë“œ ë Œë”ë§
- [ ] ì‹¤ì‹œê°„ ë™ê¸°í™”

### Phase 2: ì»¤ìŠ¤í„°ë§ˆì´ì§• (3ì¼)
- [ ] ìƒ‰ìƒ í…Œë§ˆ
- [ ] í°íŠ¸ ì„ íƒ
- [ ] ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°

### Phase 3: ê³ ê¸‰ ê¸°ëŠ¥ (3ì¼)
- [ ] í•œê¸€ í˜•íƒœì†Œ ë¶„ì„
- [ ] ê¸ˆì¹™ì–´ í•„í„°
- [ ] í”„ë ˆì  í…Œì´ì…˜ ëª¨ë“œ

---

## 10. ì°¸ê³  ìë£Œ

### ë¼ì´ë¸ŒëŸ¬ë¦¬
- [react-wordcloud](https://www.npmjs.com/package/react-wordcloud)
- [d3-cloud](https://github.com/jasondavies/d3-cloud)
- [html-to-image](https://www.npmjs.com/package/html-to-image)

### ìœ ì‚¬ ì„œë¹„ìŠ¤
- [Mentimeter Word Cloud](https://www.mentimeter.com/features/word-cloud)
- [AhaSlides Word Cloud](https://ahaslides.com/blog/free-word-cloud-generator/)

---

**ì‘ì„±ì¼**: 2024-12-23
**ë²„ì „**: 1.0
